<svg viewBox="0 0 1200 900" width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles -->
  <defs>
    <style>
      .box { fill: #fff; stroke: #000; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #000; }
      .title-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #000; }
      .header { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #000; }
      .line { stroke: #000; stroke-width: 2; fill: none; }
      .arrow { fill: #000; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" class="arrow" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="header">Azure Hub-and-Spoke Secure Network Architecture</text>
  <text x="600" y="55" text-anchor="middle" style="font-size: 14px; fill: #666;">Enterprise Network Segmentation with Azure Firewall</text>
  
  <!-- Internet -->
  <rect x="520" y="90" width="160" height="60" class="box" rx="5"/>
  <text x="600" y="115" text-anchor="middle" class="title-text">Internet</text>
  <text x="600" y="135" text-anchor="middle" style="font-size: 10px;">External Traffic</text>
  
  <!-- Connection to Hub -->
  <line x1="600" y1="150" x2="600" y2="200" class="line" marker-end="url(#arrowhead)"/>
  
  <!-- Hub VNet -->
  <rect x="400" y="200" width="400" height="240" class="box" rx="5"/>
  <text x="600" y="230" text-anchor="middle" class="title-text">Hub VNet</text>
  <text x="600" y="250" text-anchor="middle" style="font-size: 11px;">Centralized Security and Management</text>
  
  <!-- Azure Firewall inside Hub -->
  <rect x="480" y="270" width="240" height="80" class="box" rx="5"/>
  <text x="600" y="295" text-anchor="middle" class="title-text">Azure Firewall</text>
  <text x="600" y="315" text-anchor="middle" style="font-size: 10px;">• Application filtering by FQDN</text>
  <text x="600" y="330" text-anchor="middle" style="font-size: 10px;">• Network filtering by IP/port</text>
  <text x="600" y="345" text-anchor="middle" style="font-size: 10px;">• Threat intelligence filtering</text>
  
  <!-- Hub Services -->
  <rect x="420" y="370" width="120" height="50" class="box" rx="3"/>
  <text x="480" y="390" text-anchor="middle" style="font-size: 11px;">VPN Gateway</text>
  <text x="480" y="405" text-anchor="middle" style="font-size: 9px;">On-premises</text>
  <text x="480" y="418" text-anchor="middle" style="font-size: 9px;">connectivity</text>
  
  <rect x="560" y="370" width="120" height="50" class="box" rx="3"/>
  <text x="620" y="390" text-anchor="middle" style="font-size: 11px;">Azure Bastion</text>
  <text x="620" y="405" text-anchor="middle" style="font-size: 9px;">Secure RDP/SSH</text>
  <text x="620" y="418" text-anchor="middle" style="font-size: 9px;">access</text>
  
  <rect x="700" y="370" width="80" height="50" class="box" rx="3"/>
  <text x="740" y="393" text-anchor="middle" style="font-size: 10px;">Network</text>
  <text x="740" y="408" text-anchor="middle" style="font-size: 10px;">Watcher</text>
  
  <!-- Spoke 1 - Production -->
  <rect x="80" y="520" width="450" height="320" class="box" rx="5"/>
  <text x="305" y="550" text-anchor="middle" class="title-text">Spoke 1 VNet - Production</text>
  
  <!-- Web Tier -->
  <rect x="110" y="570" width="180" height="80" class="box" rx="3"/>
  <text x="200" y="595" text-anchor="middle" class="title-text">Web Tier Subnet</text>
  <text x="200" y="615" text-anchor="middle" style="font-size: 10px;">Public-facing</text>
  <text x="200" y="630" text-anchor="middle" style="font-size: 10px;">Port 443 only</text>
  <text x="200" y="645" text-anchor="middle" style="font-size: 9px;">NSG: Allow 443 from Internet</text>
  
  <!-- App Tier -->
  <rect x="320" y="570" width="180" height="80" class="box" rx="3"/>
  <text x="410" y="595" text-anchor="middle" class="title-text">App Tier Subnet</text>
  <text x="410" y="615" text-anchor="middle" style="font-size: 10px;">Internal only</text>
  <text x="410" y="630" text-anchor="middle" style="font-size: 10px;">Application logic</text>
  <text x="410" y="645" text-anchor="middle" style="font-size: 9px;">NSG: From Web tier only</text>
  
  <!-- Data Tier -->
  <rect x="110" y="670" width="390" height="80" class="box" rx="3"/>
  <text x="305" y="695" text-anchor="middle" class="title-text">Data Tier Subnet</text>
  <text x="305" y="715" text-anchor="middle" style="font-size: 10px;">Database access restricted</text>
  <text x="305" y="730" text-anchor="middle" style="font-size: 10px;">Azure SQL / Cosmos DB</text>
  <text x="305" y="745" text-anchor="middle" style="font-size: 9px;">NSG: From App tier only</text>
  
  <!-- Private Endpoints -->
  <rect x="110" y="770" width="390" height="50" class="box" rx="3"/>
  <text x="305" y="790" text-anchor="middle" style="font-size: 11px;">Private Endpoints</text>
  <text x="305" y="805" text-anchor="middle" style="font-size: 9px;">Secure PaaS connectivity (Storage, Key Vault, SQL)</text>
  
  <!-- Spoke 2 - Development -->
  <rect x="570" y="520" width="450" height="320" class="box" rx="5"/>
  <text x="795" y="550" text-anchor="middle" class="title-text">Spoke 2 VNet - Development</text>
  
  <!-- Dev Web Tier -->
  <rect x="600" y="570" width="180" height="80" class="box" rx="3"/>
  <text x="690" y="595" text-anchor="middle" class="title-text">Web Tier Subnet</text>
  <text x="690" y="615" text-anchor="middle" style="font-size: 10px;">Dev environment</text>
  <text x="690" y="630" text-anchor="middle" style="font-size: 10px;">Port 443 only</text>
  <text x="690" y="645" text-anchor="middle" style="font-size: 9px;">NSG: Restricted access</text>
  
  <!-- Dev App Tier -->
  <rect x="810" y="570" width="180" height="80" class="box" rx="3"/>
  <text x="900" y="595" text-anchor="middle" class="title-text">App Tier Subnet</text>
  <text x="900" y="615" text-anchor="middle" style="font-size: 10px;">Internal only</text>
  <text x="900" y="630" text-anchor="middle" style="font-size: 10px;">Dev services</text>
  <text x="900" y="645" text-anchor="middle" style="font-size: 9px;">NSG: From Web tier only</text>
  
  <!-- Dev Data Tier -->
  <rect x="600" y="670" width="390" height="80" class="box" rx="3"/>
  <text x="795" y="695" text-anchor="middle" class="title-text">Data Tier Subnet</text>
  <text x="795" y="715" text-anchor="middle" style="font-size: 10px;">Dev databases</text>
  <text x="795" y="730" text-anchor="middle" style="font-size: 10px;">Isolated from production</text>
  <text x="795" y="745" text-anchor="middle" style="font-size: 9px;">NSG: From App tier only</text>
  
  <!-- Dev Private Endpoints -->
  <rect x="600" y="770" width="390" height="50" class="box" rx="3"/>
  <text x="795" y="790" text-anchor="middle" style="font-size: 11px;">Private Endpoints</text>
  <text x="795" y="805" text-anchor="middle" style="font-size: 9px;">Dev PaaS services</text>
  
  <!-- VNet Peering connections -->
  <line x1="305" y1="520" x2="530" y2="440" class="line" marker-end="url(#arrowhead)"/>
  <text x="380" y="470" class="text" style="font-size: 10px;">VNet Peering</text>
  
  <line x1="795" y1="520" x2="670" y2="440" class="line" marker-end="url(#arrowhead)"/>
  <text x="730" y="470" class="text" style="font-size: 10px;">VNet Peering</text>
  
  <!-- On-Premises Connection -->
  <rect x="50" y="270" width="140" height="80" class="box" rx="5"/>
  <text x="120" y="295" text-anchor="middle" class="text" style="font-weight: bold;">On-Premises</text>
  <text x="120" y="315" text-anchor="middle" style="font-size: 10px;">Data Center</text>
  <text x="120" y="330" text-anchor="middle" style="font-size: 10px;">Corporate Network</text>
  
  <line x1="190" y1="310" x2="420" y2="395" class="line" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <text x="270" y="345" class="text" style="font-size: 10px;">VPN / ExpressRoute</text>
  
  <!-- Security Features -->
  <rect x="1040" y="200" width="140" height="240" class="box" rx="5"/>
  <text x="1110" y="225" text-anchor="middle" class="title-text">Security</text>
  <text x="1110" y="240" text-anchor="middle" class="title-text">Features</text>
  
  <text x="1060" y="265" class="text" style="font-size: 10px;">• NSGs</text>
  <text x="1060" y="285" class="text" style="font-size: 10px;">• Azure Firewall</text>
  <text x="1060" y="305" class="text" style="font-size: 10px;">• Private Endpoints</text>
  <text x="1060" y="325" class="text" style="font-size: 10px;">• Micro-segmentation</text>
  <text x="1060" y="345" class="text" style="font-size: 10px;">• Defense-in-depth</text>
  <text x="1060" y="365" class="text" style="font-size: 10px;">• VPN/ExpressRoute</text>
  <text x="1060" y="385" class="text" style="font-size: 10px;">• Network Watcher</text>
  <text x="1060" y="405" class="text" style="font-size: 10px;">• Azure Bastion</text>
  <text x="1060" y="425" class="text" style="font-size: 10px;">• VPC Flow Logs</text>
</svg>